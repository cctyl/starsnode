(function(){"use strict";var t={9112:function(t,e,s){var a=s(6848),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],o={name:"App"},r=o,c=s(1656),l=(0,c.A)(r,i,n,!1,null,null,null),d=l.exports,u=s(6178),v=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("button",{staticClass:"settings-btn",on:{click:t.showSettings}},[t._v(" âš™ï¸ ")]),t.notification.show?e("div",{class:["notification",t.notification.type],on:{click:t.hideNotification}},[t._v(" "+t._s(t.notification.message)+" "),e("button",{staticClass:"notification-close",on:{click:function(e){return e.stopPropagation(),t.hideNotification.apply(null,arguments)}}},[t._v("Ã—")])]):t._e(),e("section",{staticClass:"summary-section"},[e("h2",{staticClass:"section-title"},[t._v("ğŸ“ˆ æ•°æ®æ±‡æ€»")]),e("SummaryCards",{attrs:{summary:t.summary}}),e("HardwareCharts",{attrs:{summary:t.summary}})],1),e("DeviceList",{attrs:{devices:t.devices,"loading-message":t.loadingMessage}}),e("SettingsModal",{attrs:{"is-visible":t.isSettingsVisible,"is-required":t.isSettingsRequired},on:{close:t.hideSettings,"settings-updated":t.onSettingsUpdated}})],1)},h=[],p=(s(8111),s(7588),s(8335),function(){var t=this,e=t._self._c;return e("div",{staticClass:"summary-grid"},[e("div",{staticClass:"summary-card"},[e("div",{staticClass:"card-icon"},[t._v("ğŸ–¥ï¸")]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-label"},[t._v("åœ¨çº¿è®¾å¤‡æ€»æ•°")]),e("div",{staticClass:"card-value"},[t._v(t._s(t.summary.total))])])]),e("div",{staticClass:"summary-card"},[e("div",{staticClass:"card-icon"},[t._v("ğŸªŸ")]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-label"},[t._v("Windows è®¾å¤‡")]),e("div",{staticClass:"card-value"},[t._v(t._s(t.summary.windows))])])]),e("div",{staticClass:"summary-card"},[e("div",{staticClass:"card-icon"},[t._v("ğŸ§")]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-label"},[t._v("Linux è®¾å¤‡")]),e("div",{staticClass:"card-value"},[t._v(t._s(t.summary.linux))])])]),e("div",{staticClass:"summary-card"},[e("div",{staticClass:"card-icon"},[t._v("ğŸ’»")]),e("div",{staticClass:"card-content"},[e("div",{staticClass:"card-label"},[t._v("å…¶ä»–ç³»ç»Ÿ")]),e("div",{staticClass:"card-value"},[t._v(t._s(t.summary.other))])])])])}),m=[],g={name:"SummaryCards",props:{summary:{type:Object,required:!0,default:()=>({total:0,windows:0,linux:0,other:0})}}},C=g,f=(0,c.A)(C,p,m,!1,null,null,null),b=f.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"hardware-summary"},[e("div",{staticClass:"charts-row cpu-row"},[e("div",{staticClass:"chart-card cpu-card"},[e("h3",{staticClass:"chart-title"},[t._v("CPU æ ¸å¿ƒæ•°æ±‡æ€»")]),e("div",{staticClass:"stat-value"},[t._v(t._s(t.summary.totalCpuCores))]),e("div",{staticClass:"stat-desc"},[t._v("æ€»æ ¸å¿ƒæ•°")]),e("div",{staticClass:"cpu-details"},[e("div",{staticClass:"cpu-stat"},[e("span",{staticClass:"cpu-stat-label"},[t._v("å¹³å‡ä½¿ç”¨ç‡")]),e("span",{staticClass:"cpu-stat-value"},[t._v(t._s(t.summary.avgCpuUsage)+"%")])]),e("div",{staticClass:"cpu-progress"},[e("div",{staticClass:"cpu-progress-fill",class:t.getCpuProgressClass(t.summary.avgCpuUsage||0),style:{width:(t.summary.avgCpuUsage||0)+"%"}})])])]),e("div",{staticClass:"chart-card cpu-usage-card"},[e("h3",{staticClass:"chart-title"},[t._v("CPU ä½¿ç”¨ç‡")]),e("div",{staticClass:"stat-value"},[t._v(t._s(t.summary.avgCpuUsage)+"%")]),e("canvas",{ref:"cpuUsageChart"})])]),e("div",{staticClass:"charts-row"},[e("div",{staticClass:"chart-card memory-card"},[e("h3",{staticClass:"chart-title"},[t._v("å†…å­˜æ±‡æ€»")]),e("div",{staticClass:"stat-value"},[t._v(t._s((t.summary.totalMemory/1024).toFixed(2))+" GB")]),e("canvas",{ref:"memoryChart"})]),e("div",{staticClass:"chart-card disk-card"},[e("h3",{staticClass:"chart-title"},[t._v("ç£ç›˜æ±‡æ€»")]),e("div",{staticClass:"stat-value"},[t._v(t._s(t.summary.totalDisk.toFixed(2))+" GB")]),e("canvas",{ref:"diskChart"})])])])},y=[],w=s(9064);w.t1.register(w.Bs,w.m_,w.s$,w.ju);var I={data(){return{memoryChartInstance:null,diskChartInstance:null,cpuUsageChartInstance:null}},methods:{createCpuUsageChart(t){const e=this.$refs.cpuUsageChart;if(!e)return;const s=t.avgCpuUsage||0,a=Math.max(0,100-s);if(this.cpuUsageChartInstance)return void this.updateCpuUsageChartData(t);const i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),this.cpuUsageChartInstance=new w.t1(i,{type:"doughnut",data:{labels:["ä½¿ç”¨ç‡","ç©ºé—²"],datasets:[{data:[s,a],backgroundColor:["rgba(245, 101, 101, 0.8)","rgba(72, 187, 120, 0.8)"],borderColor:["rgba(245, 101, 101, 1)","rgba(72, 187, 120, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom",align:"center",labels:{color:"#cbd5e1",font:{size:10},boxWidth:12,padding:8,textAlign:"center"}},tooltip:{callbacks:{label:function(t){return t.label+": "+t.parsed.toFixed(1)+"%"}}}}}})},updateCpuUsageChartData(t){if(!this.cpuUsageChartInstance)return;const e=t.avgCpuUsage||0,s=Math.max(0,100-e);this.cpuUsageChartInstance.data.datasets[0].data=[e,s],this.cpuUsageChartInstance.update("none")},createMemoryChart(t){const e=this.$refs.memoryChart;if(!e)return;const s=t.usedMemory/1024,a=(t.totalMemory-t.usedMemory)/1024;if(this.memoryChartInstance)return void this.updateMemoryChartData(t);const i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),this.memoryChartInstance=new w.t1(i,{type:"doughnut",data:{labels:["å·²ä½¿ç”¨","ç©ºé—²"],datasets:[{data:[s,a],backgroundColor:["rgba(102, 126, 234, 0.8)","rgba(72, 187, 120, 0.8)"],borderColor:["rgba(102, 126, 234, 1)","rgba(72, 187, 120, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom",align:"center",labels:{color:"#cbd5e1",font:{size:10},boxWidth:12,padding:8,textAlign:"center"}},tooltip:{callbacks:{label:function(t){return t.label+": "+t.parsed.toFixed(2)+" GB"}}}}}})},updateMemoryChartData(t){if(!this.memoryChartInstance)return;const e=t.usedMemory/1024,s=(t.totalMemory-t.usedMemory)/1024;this.memoryChartInstance.data.datasets[0].data=[e,s],this.memoryChartInstance.update("none")},createDiskChart(t){const e=this.$refs.diskChart;if(!e)return;if(this.diskChartInstance)return void this.updateDiskChartData(t);const s=e.getContext("2d");s.clearRect(0,0,e.width,e.height),this.diskChartInstance=new w.t1(s,{type:"doughnut",data:{labels:["å·²ä½¿ç”¨","ç©ºé—²"],datasets:[{data:[t.usedDisk,t.totalDisk-t.usedDisk],backgroundColor:["rgba(245, 101, 101, 0.8)","rgba(66, 153, 225, 0.8)"],borderColor:["rgba(245, 101, 101, 1)","rgba(66, 153, 225, 1)"],borderWidth:2}]},options:{responsive:!0,maintainAspectRatio:!0,plugins:{legend:{position:"bottom",align:"center",labels:{color:"#cbd5e1",font:{size:10},boxWidth:12,padding:8,textAlign:"center"}},tooltip:{callbacks:{label:function(t){return t.label+": "+t.parsed.toFixed(2)+" GB"}}}}}})},updateDiskChartData(t){this.diskChartInstance&&(this.diskChartInstance.data.datasets[0].data=[t.usedDisk,t.totalDisk-t.usedDisk],this.diskChartInstance.update("none"))},destroyCharts(){this.memoryChartInstance&&(this.memoryChartInstance.destroy(),this.memoryChartInstance=null),this.diskChartInstance&&(this.diskChartInstance.destroy(),this.diskChartInstance=null)}},beforeDestroy(){this.destroyCharts()}},k={name:"HardwareCharts",mixins:[I],props:{summary:{type:Object,required:!0,default:()=>({totalCpuCores:0,avgCpuUsage:0,totalMemory:0,usedMemory:0,totalDisk:0,usedDisk:0})}},watch:{summary:{handler(t){this.updateCharts(t)},immediate:!0,deep:!0}},methods:{getCpuProgressClass(t){return t>=80?"high":t>=50?"medium":""},updateCharts(t){this.$nextTick(()=>{this.createCpuUsageChart(t),this.createMemoryChart(t),this.createDiskChart(t)})}}},S=k,M=(0,c.A)(S,_,y,!1,null,null,null),x=M.exports,D=function(){var t=this,e=t._self._c;return e("div",{staticClass:"devices-section"},[e("h2",{staticClass:"section-title"},[t._v("ğŸ–¥ï¸ è®¾å¤‡è¯¦æƒ…")]),0===t.devices.length?e("div",{staticClass:"loading"},[e("div",{staticClass:"spinner"}),e("div",[t._v(t._s(t.loadingMessage))])]):t._e(),t._l(t.devices,function(t,s){return e("DeviceCard",{key:t.osInfo?.hostname||s,attrs:{device:t,index:s}})})],2)},U=[],R=function(){var t=this,e=t._self._c;return e("div",{staticClass:"device-card",style:{animationDelay:.1*t.index+"s"}},[e("div",{staticClass:"device-summary",on:{click:t.toggleDeviceExpanded}},[e("div",{staticClass:"device-summary-left"},[e("span",{staticClass:"device-os-badge",class:t.osBadgeClass},[t._v(t._s(t.osBadgeText))])]),e("div",{staticClass:"device-summary-center"},[e("div",{staticClass:"device-name-row"},[e("span",{staticClass:"device-name"},[t._v(t._s(t.device.osInfo?.hostname||"æœªçŸ¥è®¾å¤‡"))])]),e("div",{staticClass:"cpu-info-row"},[e("div",{staticClass:"cpu-usage-summary"},[e("span",{staticClass:"cpu-label"},[t._v("CPU")]),e("span",{staticClass:"cpu-value"},[t._v(t._s((t.device.cpuInfo?.cpuUsage||0).toFixed(1))+"%")]),e("div",{staticClass:"mini-progress-bar"},[e("div",{staticClass:"mini-progress-fill",class:t.getProgressClass(t.device.cpuInfo?.cpuUsage||0),style:{width:(t.device.cpuInfo?.cpuUsage||0)+"%"}})])])])]),e("div",{staticClass:"device-summary-right"},[e("span",{staticClass:"expand-toggle-icon",class:{expanded:t.isDeviceExpanded}},[t._v("â–¼")])])]),t.isDeviceExpanded?e("div",{staticClass:"device-details"},[e("div",{staticClass:"device-info-grid"},[e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-label"},[t._v("ğŸ’» CPU")]),e("div",{staticClass:"info-value"},[t._v(t._s(t.device.cpuInfo?.cpuModel||"N/A"))]),e("div",{staticClass:"info-value"},[t._v(t._s(t.device.cpuInfo?.cpuCount||0)+" æ ¸å¿ƒ | ä½¿ç”¨ç‡: "+t._s((t.device.cpuInfo?.cpuUsage||0).toFixed(2))+"%")]),e("div",{staticClass:"progress-bar"},[e("div",{staticClass:"progress-fill",class:t.getProgressClass(t.device.cpuInfo?.cpuUsage||0),style:{width:(t.device.cpuInfo?.cpuUsage||0)+"%"}})])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-label"},[t._v("ğŸ§  å†…å­˜")]),e("div",{staticClass:"info-value"},[t._v(t._s(((t.device.memInfo?.totalMemMb||0)/1024).toFixed(2))+" GB")]),e("div",{staticClass:"info-value"},[t._v("å·²ç”¨: "+t._s(((t.device.memInfo?.usedMemMb||0)/1024).toFixed(2))+" GB | "+t._s((t.device.memInfo?.usedMemPercentage||0).toFixed(2))+"%")]),e("div",{staticClass:"progress-bar"},[e("div",{staticClass:"progress-fill",class:t.getProgressClass(t.device.memInfo?.usedMemPercentage||0),style:{width:(t.device.memInfo?.usedMemPercentage||0)+"%"}})])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-label"},[t._v("ğŸ’¾ ç£ç›˜")]),e("div",{staticClass:"info-value"},[t._v(t._s(t.totalDisk.toFixed(2))+" GB")]),e("div",{staticClass:"info-value"},[t._v("å·²ç”¨: "+t._s(t.usedDisk.toFixed(2))+" GB | "+t._s(t.diskPercentage.toFixed(2))+"%")]),e("div",{staticClass:"progress-bar"},[e("div",{staticClass:"progress-fill",class:t.getProgressClass(t.diskPercentage),style:{width:t.diskPercentage+"%"}})])]),e("div",{staticClass:"info-item"},[e("div",{staticClass:"info-label"},[t._v("â±ï¸ è¿è¡Œæ—¶é—´")]),e("div",{staticClass:"info-value"},[t._v(t._s(t.formatUptime(t.device.osInfo?.uptime||0)))]),e("div",{staticClass:"info-value"},[t._v("æ¶æ„: "+t._s(t.device.osInfo?.arch||"N/A"))])])]),e("div",{staticClass:"network-speed"},[e("div",{staticClass:"speed-item"},[e("div",{staticClass:"speed-label"},[t._v("â†“ æ€»ä¸‹è½½é€Ÿåº¦")]),e("div",{staticClass:"speed-value"},[t._v(t._s(t.formatSpeed(t.totalSpeed.inputMb)))])]),e("div",{staticClass:"speed-item"},[e("div",{staticClass:"speed-label"},[t._v("â†‘ æ€»ä¸Šä¼ é€Ÿåº¦")]),e("div",{staticClass:"speed-value"},[t._v(t._s(t.formatSpeed(t.totalSpeed.outputMb)))])])]),t.device.ipInfo?e("div",{staticClass:"ip-info"},[e("div",{staticClass:"ip-title"},[t._v("ğŸŒ å¤–ç½‘IPä¿¡æ¯")]),e("div",{staticClass:"ip-details"},[e("div",[t._v("ğŸ“ IP: "+t._s(t.device.ipInfo.query||"N/A"))]),e("div",[t._v("ğŸ³ï¸ å›½å®¶: "+t._s(t.device.ipInfo.country||"N/A"))]),e("div",[t._v("ğŸ™ï¸ åŸå¸‚: "+t._s(t.device.ipInfo.city||"N/A"))]),e("div",[t._v("ğŸŒ ISP: "+t._s(t.device.ipInfo.isp||"N/A"))])])]):t._e(),e("div",{staticClass:"network-interfaces"},[e("div",{staticClass:"interfaces-title",on:{click:t.toggleNetworkInterfaces}},[e("span",[t._v("ğŸ”Œ ç½‘å¡ä¿¡æ¯")]),e("span",{staticClass:"toggle-icon",class:{expanded:t.isNetworkExpanded}},[t._v("â–¼")])]),t.isNetworkExpanded?e("div",{staticClass:"interfaces-content"},t._l(t.device.netInterface,function(s,a){return e("div",{key:a,staticClass:"interface-card"},[e("div",{staticClass:"interface-name"},[t._v("ğŸ”Œ "+t._s(a))]),t.getIPv4Address(s)?e("div",{staticClass:"interface-details"},[t._v("ğŸ“ IP: "+t._s(t.getIPv4Address(s).address))]):t._e(),t.getIPv4Address(s)?e("div",{staticClass:"interface-details"},[t._v("ğŸ­ å­ç½‘æ©ç : "+t._s(t.getIPv4Address(s).netmask))]):t._e(),t.getIPv4Address(s)?.mac?e("div",{staticClass:"interface-details"},[t._v("ğŸ·ï¸ MAC: "+t._s(t.getIPv4Address(s).mac))]):e("div",{staticClass:"interface-details"},[t._v("æš‚æ— IPv4åœ°å€")]),e("div",{staticClass:"interface-speed"},[e("span",{staticClass:"speed-stat"},[t._v("â†“ ä¸‹è½½: "),e("span",{staticClass:"value"},[t._v(t._s(t.formatSpeed(t.getInterfaceStats(a).inputMb)))])]),e("span",{staticClass:"speed-stat"},[t._v("â†‘ ä¸Šä¼ : "),e("span",{staticClass:"value"},[t._v(t._s(t.formatSpeed(t.getInterfaceStats(a).outputMb)))])])])])}),0):t._e()])]):t._e()])},A=[],P=(s(116),{name:"DeviceCard",props:{device:{type:Object,required:!0},index:{type:Number,default:0}},data(){return{isDeviceExpanded:!1,isNetworkExpanded:!1}},computed:{osBadgeClass(){const t=this.device.osInfo?.platform?.toLowerCase()||"";return t.includes("windows")?"os-windows":t.includes("linux")?"os-linux":"os-other"},osBadgeText(){const t=this.device.osInfo?.platform?.toLowerCase()||"";return t.includes("windows")?"ğŸªŸ":t.includes("linux")?"ğŸ§":"ğŸ’»"},totalDisk(){let t=this.device.driveInfo?.totalGb||0;return"string"===typeof t?parseFloat(t)||0:t},usedDisk(){let t=this.device.driveInfo?.usedGb||0;return"string"===typeof t?parseFloat(t)||0:t},diskPercentage(){let t=this.device.driveInfo?.usedPercentage||0;return"string"===typeof t?parseFloat(t)||0:t},totalSpeed(){return this.device.netstatInfo?.total||{inputMb:0,outputMb:0}}},methods:{toggleDeviceExpanded(){this.isDeviceExpanded=!this.isDeviceExpanded},toggleNetworkInterfaces(t){t.stopPropagation(),this.isNetworkExpanded=!this.isNetworkExpanded},getProgressClass(t){return t>=80?"high":t>=50?"medium":""},formatSpeed(t){return 0===t?"0 MB/s":t<.01?"<0.01 MB/s":`${t.toFixed(2)} MB/s`},formatUptime(t){const e=Math.floor(t/86400),s=Math.floor(t%86400/3600),a=Math.floor(t%3600/60);return e>0?`${e}å¤© ${s}å°æ—¶`:s>0?`${s}å°æ—¶ ${a}åˆ†é’Ÿ`:`${a}åˆ†é’Ÿ`},getIPv4Address(t){return t.find(t=>"IPv4"===t.family)},getInterfaceStats(t){return this.device.netstatInfo?.[t]||this.device.netstatInfo?.[t+":"]||{inputMb:0,outputMb:0}}}}),N=P,T=(0,c.A)(N,R,A,!1,null,null,null),W=T.exports,F={name:"DeviceList",components:{DeviceCard:W},props:{devices:{type:Array,default:()=>[]},loadingMessage:{type:String,default:"æš‚æ— è®¾å¤‡æ•°æ®"}}},O=F,q=(0,c.A)(O,D,U,!1,null,null,null),B=q.exports,E=function(){var t=this,e=t._self._c;return t.isVisible?e("div",{staticClass:"settings-overlay",on:{click:t.closeOnOverlay}},[e("div",{staticClass:"settings-modal",on:{click:function(t){t.stopPropagation()}}},[e("div",{staticClass:"modal-header"},[e("h2",[t._v("âš™ï¸ "+t._s(t.isRequired?"å¿…éœ€è®¾ç½®":"è®¾ç½®"))]),t.isRequired?t._e():e("button",{staticClass:"close-btn",on:{click:t.close}},[t._v("Ã—")])]),e("div",{staticClass:"modal-body"},[t.isRequired?e("div",{staticClass:"required-notice"},[e("strong",[t._v("âš ï¸ é¦–æ¬¡ä½¿ç”¨å¿…éœ€è®¾ç½®")]),e("p",[t._v("è¯·è¾“å…¥WebSocketæœåŠ¡å™¨åœ°å€ä»¥å¼€å§‹ä½¿ç”¨ç›‘æ§ç³»ç»Ÿ")])]):t._e(),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"ws-url"}},[t._v("WebSocket åœ°å€")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.wsUrl,expression:"wsUrl"}],staticClass:"form-input",attrs:{id:"ws-url",type:"text",placeholder:"ws://localhost:8080/ws"},domProps:{value:t.wsUrl},on:{input:function(e){e.target.composing||(t.wsUrl=e.target.value)}}}),t.errorMessage?e("div",{staticClass:"form-error"},[t._v(" "+t._s(t.errorMessage)+" ")]):e("div",{staticClass:"form-hint"},[t._v(" è¯·è¾“å…¥WebSocketæœåŠ¡å™¨åœ°å€ï¼Œä¾‹å¦‚ï¼šws://localhost:8080/ws ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"reconnect-interval"}},[t._v("é‡è¿é—´éš” (ç§’)")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.reconnectInterval,expression:"reconnectInterval"}],staticClass:"form-input",attrs:{id:"reconnect-interval",type:"number",min:"1",max:"60"},domProps:{value:t.reconnectInterval},on:{input:function(e){e.target.composing||(t.reconnectInterval=e.target.value)}}}),e("div",{staticClass:"form-hint"},[t._v(" è¿æ¥æ–­å¼€åè‡ªåŠ¨é‡è¿çš„é—´éš”æ—¶é—´ï¼ˆ1-60ç§’ï¼‰ ")])]),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"auto-reconnect"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.autoReconnect,expression:"autoReconnect"}],staticClass:"form-checkbox",attrs:{id:"auto-reconnect",type:"checkbox"},domProps:{checked:Array.isArray(t.autoReconnect)?t._i(t.autoReconnect,null)>-1:t.autoReconnect},on:{change:function(e){var s=t.autoReconnect,a=e.target,i=!!a.checked;if(Array.isArray(s)){var n=null,o=t._i(s,n);a.checked?o<0&&(t.autoReconnect=s.concat([n])):o>-1&&(t.autoReconnect=s.slice(0,o).concat(s.slice(o+1)))}else t.autoReconnect=i}}}),t._v(" å¯ç”¨è‡ªåŠ¨é‡è¿ ")]),e("div",{staticClass:"form-hint"},[t._v(" è¿æ¥æ–­å¼€åæ˜¯å¦è‡ªåŠ¨å°è¯•é‡æ–°è¿æ¥ ")])])]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{disabled:t.isRequired},on:{click:t.close}},[t._v(" "+t._s(t.isRequired?"å¿…é¡»è®¾ç½®":"å–æ¶ˆ")+" ")]),e("button",{staticClass:"btn btn-primary",on:{click:t.save}},[t._v("ä¿å­˜")])])])]):t._e()},$=[],G=(s(3110),s(4603),s(7566),s(8721),{name:"SettingsModal",props:{isVisible:{type:Boolean,default:!1},isRequired:{type:Boolean,default:!1}},data(){return{wsUrl:"",reconnectInterval:5,autoReconnect:!0,errorMessage:""}},methods:{loadSettings(){const t=localStorage.getItem("monitorSettings");if(t)try{const e=JSON.parse(t);this.wsUrl=e.wsUrl||"",this.reconnectInterval=e.reconnectInterval||5,this.autoReconnect=!1!==e.autoReconnect}catch(e){console.error("Failed to load settings:",e)}},validateSettings(){if(this.errorMessage="",this.isRequired&&!this.wsUrl.trim())return this.errorMessage="è¯·è¾“å…¥WebSocketæœåŠ¡å™¨åœ°å€æ‰èƒ½ç»§ç»­",!1;if(this.wsUrl.trim())try{const t=new URL(this.wsUrl);if(!["ws:","wss:"].includes(t.protocol))return this.errorMessage="WebSocketåœ°å€å¿…é¡»ä»¥ ws:// æˆ– wss:// å¼€å¤´",!1}catch(e){return this.errorMessage="WebSocketåœ°å€æ ¼å¼ä¸æ­£ç¡®",!1}const t=parseInt(this.reconnectInterval);return!(isNaN(t)||t<1||t>60)||(this.errorMessage="é‡è¿é—´éš”å¿…é¡»åœ¨ 1-60 ç§’ä¹‹é—´",!1)},saveSettings(){if(!this.validateSettings())return!1;const t={wsUrl:this.wsUrl.trim(),reconnectInterval:parseInt(this.reconnectInterval),autoReconnect:this.autoReconnect};return localStorage.setItem("monitorSettings",JSON.stringify(t)),this.$emit("settings-updated",t),!0},save(){this.saveSettings()&&this.close()},close(){!this.isRequired||this.wsUrl.trim()&&this.validateSettings()?this.$emit("close"):this.errorMessage="è¯·è¾“å…¥æœ‰æ•ˆçš„WebSocketæœåŠ¡å™¨åœ°å€æ‰èƒ½ç»§ç»­"},closeOnOverlay(t){this.isRequired||t.target===t.currentTarget&&this.close()}},mounted(){this.loadSettings()},watch:{isVisible(t){t&&this.loadSettings()}}}),j=G,V=(0,c.A)(j,E,$,!1,null,"d597e8a2",null),L=V.exports;class J{constructor(){this.ws=null,this.reconnectTimer=null,this.reconnectDelay=5e3,this.wsUrl="",this.callbacks={},this.connectionStatus="disconnected",this.autoReconnect=!0,this.isManualDisconnect=!1}connect(t={}){try{t.wsUrl&&(this.wsUrl=t.wsUrl),t.reconnectInterval&&(this.reconnectDelay=1e3*t.reconnectInterval),void 0!==t.autoReconnect&&(this.autoReconnect=t.autoReconnect),this.isManualDisconnect=!1,this.updateConnectionStatus("connecting","æ­£åœ¨è¿æ¥..."),this.ws=new WebSocket(this.wsUrl),this.ws.onopen=()=>{console.log("WebSocketè¿æ¥å·²å»ºç«‹"),this.updateConnectionStatus("connected","å·²è¿æ¥"),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)},this.ws.onmessage=t=>{try{const e=JSON.parse(t.data);console.log("æ”¶åˆ°æ•°æ®:",e),Array.isArray(e)?this.processDevicesData(e):console.warn("æ•°æ®æ ¼å¼ä¸æ­£ç¡®ï¼ŒæœŸæœ›æ•°ç»„æ ¼å¼")}catch(e){console.error("æ•°æ®è§£æå¤±è´¥:",e),this.updateConnectionStatus("error","æ•°æ®è§£æé”™è¯¯")}},this.ws.onerror=t=>{console.error("WebSocketé”™è¯¯:",t),this.updateConnectionStatus("error","è¿æ¥é”™è¯¯")},this.ws.onclose=()=>{console.log("WebSocketè¿æ¥å·²å…³é—­"),this.isManualDisconnect||this.updateConnectionStatus("disconnected","è¿æ¥å·²æ–­å¼€"),this.autoReconnect?(this.isManualDisconnect||this.updateConnectionStatus("disconnected","è¿æ¥å·²æ–­å¼€ï¼Œå‡†å¤‡é‡è¿..."),this.reconnectTimer=setTimeout(()=>{console.log("å°è¯•é‡æ–°è¿æ¥..."),this.connect()},this.reconnectDelay)):this.updateConnectionStatus("disconnected","è¿æ¥å·²æ–­å¼€ï¼Œè‡ªåŠ¨é‡è¿å·²ç¦ç”¨")}}catch(e){console.error("WebSocketè¿æ¥å¤±è´¥:",e),this.updateConnectionStatus("error","è¿æ¥å¤±è´¥"),this.autoReconnect&&(this.reconnectTimer=setTimeout(()=>{this.connect()},this.reconnectDelay))}}updateConnectionStatus(t,e){this.connectionStatus=t,this.callbacks.onStatusChange&&this.callbacks.onStatusChange(t,e)}processDevicesData(t){this.callbacks.onData&&this.callbacks.onData(t)}on(t,e){this.callbacks[t]=e}disconnect(){this.isManualDisconnect=!0,this.ws&&this.ws.readyState===WebSocket.OPEN&&this.ws.close(),this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null)}}var z=new J,H={name:"MonitorView",components:{SummaryCards:b,HardwareCharts:x,DeviceList:B,SettingsModal:L},data(){return{devices:[],connectionStatus:"disconnected",connectionMessage:"æœªè¿æ¥",lastUpdateTime:new Date,loadingMessage:"æ­£åœ¨å»ºç«‹è¿æ¥...",timeUpdateInterval:null,isSettingsVisible:!1,isSettingsRequired:!1,notification:{show:!1,message:"",type:"info"}}},computed:{summary(){if(0===this.devices.length)return{total:0,windows:0,linux:0,other:0,totalCpuCores:0,avgCpuUsage:0,totalMemory:0,usedMemory:0,totalDisk:0,usedDisk:0};const t={total:this.devices.length,windows:0,linux:0,other:0,totalCpuCores:0,totalCpuUsage:0,totalMemory:0,usedMemory:0,totalDisk:0,usedDisk:0};return this.devices.forEach(e=>{const s=e.osInfo?.platform?.toLowerCase()||"";s.includes("windows")?t.windows++:s.includes("linux")?t.linux++:t.other++,t.totalCpuCores+=e.cpuInfo?.cpuCount||0,t.totalCpuUsage+=e.cpuInfo?.cpuUsage||0;const a=e.memInfo?.totalMemMb||0,i=e.memInfo?.usedMemMb||0;t.totalMemory+=a,t.usedMemory+=i;let n=e.driveInfo?.totalGb||0,o=e.driveInfo?.usedGb||0;"string"===typeof n&&(n=parseFloat(n)||0),"string"===typeof o&&(o=parseFloat(o)||0),t.totalDisk+=n,t.usedDisk+=o}),t.total>0&&(t.avgCpuUsage=(t.totalCpuUsage/t.total).toFixed(2)),t}},methods:{showSettings(){this.isSettingsVisible=!0},hideSettings(){this.isSettingsVisible=!1},showNotification(t,e="info",s=3e3){this.notification={show:!0,message:t,type:e},s>0&&setTimeout(()=>{this.hideNotification()},s)},hideNotification(){this.notification.show=!1},showRequiredSettings(){this.isSettingsRequired=!0,this.isSettingsVisible=!0},hideRequiredSettings(){this.isSettingsRequired=!1,this.isSettingsVisible=!1},loadAndConnect(){let t={};const e=localStorage.getItem("monitorSettings");if(e)try{t=JSON.parse(e)}catch(s){console.error("Failed to load settings:",s),t={}}if(!t.wsUrl||!t.wsUrl.trim())return this.showNotification("è¯·å…ˆé…ç½®WebSocketæœåŠ¡å™¨åœ°å€","warning"),void this.showRequiredSettings();this.showNotification("æ­£åœ¨è¿æ¥WebSocketæœåŠ¡å™¨...","info"),z.connect(t)},onSettingsUpdated(t){z.disconnect(),this.showNotification("æ­£åœ¨é‡æ–°è¿æ¥WebSocketæœåŠ¡å™¨...","info"),setTimeout(()=>{z.connect(t)},100)},processDevicesData(t){if(0===t.length)return this.devices=[],void(this.loadingMessage="æš‚æ— è®¾å¤‡æ•°æ®");0===this.devices.length&&t.length>0&&this.showNotification(`æˆåŠŸè¿æ¥åˆ° ${t.length} å°è®¾å¤‡`,"success",3e3),this.devices=t,this.updateTimestamp()},updateTimestamp(){this.lastUpdateTime=new Date},updateConnectionStatus(t,e){this.connectionStatus=t,this.connectionMessage=e,"connected"===t?(this.loadingMessage="æ­£åœ¨æ¥æ”¶è®¾å¤‡æ•°æ®...",this.showNotification("WebSocketæœåŠ¡å™¨è¿æ¥æˆåŠŸï¼","success")):"disconnected"===t?(this.loadingMessage="è¿æ¥å·²æ–­å¼€ï¼Œå‡†å¤‡é‡è¿...",this.showNotification("WebSocketè¿æ¥å·²æ–­å¼€","warning")):"error"===t&&(this.loadingMessage="è¿æ¥å‡ºé”™ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥",this.showNotification("WebSocketè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æœåŠ¡å™¨åœ°å€å’Œç½‘ç»œè¿æ¥","error"))}},mounted(){z.on("onData",this.processDevicesData),z.on("onStatusChange",this.updateConnectionStatus),this.loadAndConnect(),this.timeUpdateInterval=setInterval(this.updateTimestamp,1e3)},beforeDestroy(){this.timeUpdateInterval&&(clearInterval(this.timeUpdateInterval),this.timeUpdateInterval=null),z.disconnect()}},K=H,Q=(0,c.A)(K,v,h,!1,null,null,null),X=Q.exports;a.Ay.use(u.Ay);const Y=[{path:"/",name:"Monitor",component:X},{path:"*",redirect:"/"}],Z=new u.Ay({mode:"history",base:"",routes:Y});var tt=Z;a.Ay.config.productionTip=!1,new a.Ay({router:tt,render:t=>t(d)}).$mount("#app")}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,n){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],n=t[d][2];for(var r=!0,c=0;c<a.length;c++)(!1&n||o>=n)&&Object.keys(s.O).every(function(t){return s.O[t](a[c])})?a.splice(c--,1):(r=!1,n<o&&(o=n));if(r){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,o=a[0],r=a[1],c=a[2],l=0;if(o.some(function(e){return 0!==t[e]})){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(c)var d=c(s)}for(e&&e(a);l<o.length;l++)n=o[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},a=self["webpackChunkstarnode_h5"]=self["webpackChunkstarnode_h5"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],function(){return s(9112)});a=s.O(a)})();
//# sourceMappingURL=app.091f303d.js.map